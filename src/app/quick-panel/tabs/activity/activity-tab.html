
<md-list class="friends">

  <!-- CONTACT LIST -->
  <md-list class="contacts-list">

    <!-- CONTACT ITEM -->
    <md-list-item class="contact-item md-white-bg" md-ink-ripple
                  ng-repeat="contact in vm.contacts | filter: vm.search | filter: global.search | filterByIds:vm.filterIds |  orderBy: vm.listOrder :vm.listOrderAsc | filter:query as filteredContacts track by contact.id "
                  ng-click="vm.openContactDialog($event, contact)"
                  ng-class="{'selected': vm.isSelected(contact)}">


      <img class="md-avatar" ng-if="contact.avatar" alt="{{contact.name}}"
           ng-src="{{contact.avatar}}"/>

      <p class="text-truncate font-weight-600">{{contact.name}} {{contact.lastName}}</p>


      <p class="phone text-truncate hide show-gt-md">
        {{contact.phone}}
      </p>
      <div class="actions" layout="row" layout-align="start center">
        <md-button class="md-icon-button  hide show-gt-xs"
                   ng-click="$event.stopPropagation();vm.toggleInArray(contact.id, vm.user.starred)"
                   aria-label="Toggle starred" translate
                   translate-attr-aria-label="CONTACTS.TOGGLE_STARRED">
          <md-icon ng-if="vm.exists(contact.id,vm.user.starred)" md-font-icon="icon-star"
                   class="amber-fg"></md-icon>
          <md-icon ng-if="!vm.exists(contact.id,vm.user.starred)"
                   md-font-icon="icon-star-outline"></md-icon>
        </md-button>

        <md-menu>
          <md-button class="md-icon-button" aria-label="More" translate
                     translate-attr-aria-label="CONTACTS.MORE">
            <md-icon md-font-icon="icon-dots-vertical" ng-click="$mdOpenMenu($event)"></md-icon>
          </md-button>

          <md-menu-content width="3">
            <md-divider ng-if="vm.user.groups"></md-divider>

            <md-subheader class="md-no-sticky" ng-if="vm.user.groups">Groups</md-subheader>

            <md-list-item ng-if="vm.user.groups" ng-repeat="group in vm.user.groups"
                          ng-click="vm.toggleInArray(contact.id,group.contactIds)">
              <p class="pl-8"
                 ng-style="vm.exists(contact.id,group.contactIds) && {'font-weight':'500'}">
                {{group.name}}
              </p>
            </md-list-item>

          </md-menu-content>
        </md-menu>

      </div>



    </md-list-item>
    <!-- CONTACT ITEM -->

  </md-list>
  <!-- / CONTACT LIST -->

</md-list>

